<div class="dashboard-container">

  <div class="create-post">
    <textarea [(ngModel)]="newPostContent" placeholder="Share something..."></textarea>
    <button (click)="createPost()">Post</button>
  </div>

  <div class="feed">
    <div class="post" *ngFor="let post of posts">

      <!-- Post header with user info -->
      <div class="post-header">
        <img
          [src]="post.user.profilePictureUrl
           ? 'http://localhost:8080' + post.user.profilePictureUrl
           : 'assets/default-profile.png'"
          class="avatar"
        />
        <strong>
          <a [routerLink]="['/profile', post.user.id]">
            {{ post.user.username }}
          </a>
        </strong>

        <span class="time">{{ post.createdAt | date:'short' }}</span>
      </div>

      <!-- Post content -->
      <p>{{ post.contentText }}</p>
      <img *ngIf="post.imageUrl" [src]="post.imageUrl" class="post-img" />

      <div class="post-footer">
        <button (click)="likePost(post)">❤️ {{ post.likes || 0 }}</button>
      </div>
    </div>
  </div>
</div>
